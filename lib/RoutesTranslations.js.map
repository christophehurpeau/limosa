{"version":3,"sources":["../src/RoutesTranslations.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;IAGqB,qBAAN,MAAM,kBAAN,CAAyB;;;;AAIpC,gBAAY,YAAZ,EAA0B;AACtB,aAAK,UAAL,GAAkB,IAAI,GAAJ,EAAlB,CADsB;;AAGtB,YAAI,CAAC,YAAD,EAAe;AACf,mBADe;SAAnB;;AAIA,yBAAmC,YAAnC,EAAiD;;;gBAAvC,eAAuC;gBAAlC,2BAAkC;;AAC7C,8BAAgC,eAAhC,EAAiD;;;oBAAvC,gBAAuC;oBAAjC,uBAAiC;;AAC7C,oBAAI,CAAC,KAAK,UAAL,CAAgB,GAAhB,CAAoB,IAApB,CAAD,EAA4B;AAC5B,yBAAK,UAAL,CAAgB,GAAhB,CACI,IADJ,EAEI;AACI,mCAAW,IAAI,GAAJ,EAAX;AACA,qCAAa,IAAI,GAAJ,EAAb;qBAJR,EAD4B;iBAAhC;;AAUA,sBAAM,WAAW,KAAK,UAAL,CAAgB,GAAhB,CAAoB,IAApB,CAAX,CAXuC;;AAa7C,yBAAS,SAAT,CAAmB,GAAnB,CAAuB,IAAI,WAAJ,EAAvB,EAA0C,WAA1C,EAb6C;AAc7C,yBAAS,WAAT,CAAqB,GAArB,CAAyB,YAAY,WAAZ,EAAzB,EAAoD,GAApD,EAd6C;aAAjD;SADJ;KAPJ;;;;;;;AAJoC,aAoCpC,CAAU,MAAV,EAAkB,IAAlB,EAAwB;AACpB,iBAAS,OAAO,WAAP,EAAT,CADoB;AAEpB,cAAM,kBAAkB,KAAK,UAAL,CAAgB,GAAhB,CAAoB,IAApB,EAA0B,SAA1B,CAFJ;;AAIpB,YAAI,CAAC,gBAAgB,GAAhB,CAAoB,MAApB,CAAD,EAA8B;AAC9B,kBAAM,IAAI,KAAJ,CAAU,CAAC,oBAAD,GAAuB,MAAvB,EAA8B,UAA9B,GAA0C,IAA1C,EAA+C,CAAzD,CAAN,CAD8B;SAAlC;;AAIA,eAAO,gBAAgB,GAAhB,CAAoB,MAApB,CAAP,CARoB;KAAxB;;;;;;;AApCoC,eAoDpC,CAAY,MAAZ,EAAoB,IAApB,EAA0B;AACtB,iBAAS,OAAO,WAAP,EAAT,CADsB;AAEtB,cAAM,kBAAkB,KAAK,UAAL,CAAgB,GAAhB,CAAoB,IAApB,EAA0B,WAA1B,CAFF;;AAItB,YAAI,CAAC,gBAAgB,GAAhB,CAAoB,MAApB,CAAD,EAA8B;AAC9B,kBAAM,IAAI,KAAJ,CAAU,CAAC,sBAAD,GAAyB,MAAzB,EAAgC,UAAhC,GAA4C,IAA5C,EAAiD,CAA3D,CAAN,CAD8B;SAAlC;;AAIA,eAAO,gBAAgB,GAAhB,CAAoB,MAApB,CAAP,CARsB;KAA1B;CApDW;kBAAM","file":"RoutesTranslations.js","sourcesContent":["/**\n * Convert a simple conf file key=>value into a two-way translation map\n */\nexport default class RoutesTranslations {\n    /**\n     * @param {Map} translations\n     */\n    constructor(translations) {\n        this._languages = new Map();\n\n        if (!translations) {\n            return;\n        }\n\n        for (let [key, translationsMap] of translations) {\n            for (let [lang, translation] of translationsMap) {\n                if (!this._languages.has(lang)) {\n                    this._languages.set(\n                        lang,\n                        {\n                            translate: new Map(),\n                            untranslate: new Map(),\n                        }\n                    );\n                }\n\n                const language = this._languages.get(lang);\n\n                language.translate.set(key.toLowerCase(), translation);\n                language.untranslate.set(translation.toLowerCase(), key);\n            }\n        }\n    }\n\n    /**\n     * @param {string} string\n     * @param {string} lang\n     * @return {string}\n     */\n    translate(string, lang) {\n        string = string.toLowerCase();\n        const translationsMap = this._languages.get(lang).translate;\n\n        if (!translationsMap.has(string)) {\n            throw new Error(`Missing translation ${string} for lang ${lang}`);\n        }\n\n        return translationsMap.get(string);\n    }\n\n    /**\n     * @param {string} string\n     * @param {string} lang\n     * @return {string}\n     */\n    untranslate(string, lang) {\n        string = string.toLowerCase();\n        const translationsMap = this._languages.get(lang).untranslate;\n\n        if (!translationsMap.has(string)) {\n            throw new Error(`Missing untranslation ${string} for lang ${lang}`);\n        }\n\n        return translationsMap.get(string);\n    }\n}\n"]}